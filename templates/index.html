<!doctype html>
<html lang="en" data-ng-app="BitcoinSentimentsApp">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Bitcoin Sentiment Dashboard">
    <!-- <link rel="icon" href="favicon.ico"> -->

    <title>Bitcoin Sentiments</title>

    {{resources|safe}}

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
    <style>
    .tweet-table {
      table-layout: fixed;
      word-wrap: break-word;
    }
    </style>
</head>
<body data-ng-controller="TweetTableController as tweetTable">
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#">Bitcoin Sentiments</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
</nav>
<div class="container-fluid mh-100">
    <div class="row mh-100">
        <div class="col-2">
            asdf
        </div>
        <div class="col-7">
            <div id="mainplot_div"></div>
        </div>
        <div class="col-3 overflow-auto mh-100">
            <table id="id_tweet_table" class="table table-striped table-sm tweet-table">
                <thead>
                    <tr>
                        <th scope="col" style="width: 15%">sent</th>
                        <th scope="col">tweets</th>
                        <!--<th scope="col">timestamp</th>-->
                    </tr>
                </thead>
                <tbody>
                    <tr class="small" data-ng-repeat="tweet in tweetTable.tweets">
                        <td><span class="badge badge-pill"
                                  data-ng-class="{'true':'badge-success', 'false':'badge-danger'}[tweet.polarity > 0]">{{ '{{tweet.polarity.toFixed(2)}}' }}</span></td>
                        <td>{{ '{{tweet.full_text}}' }}</td>
                        <!--<td>{{ '{{tweet.created_at}}' }}</td>-->
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="col-lg-12 text-left">

            <div class="row">
                <form action="#" data-ng-submit="tweetTable.getTweets()" class="form-inline">
                    <button type="submit" class="btn btn-primary mb-2">Get Tweets</button>
                </form>

                <div class="row">
                    <div class="col-lg-6 text-center">
                        <div id="plot_div"></div>
                    </div>

                    <div class="col-lg-6 text-center">
                        <!--<div id="plot2_div"></div>-->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.5/angular.min.js"></script>
<script src="{{url_for('static', filename='bitcoin_sentiments.js')}}"></script>
<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<script>
datatable = null;
$(document).ready(function() {
  //datatable = $('#id_tweet_table').DataTable({
  //  searching: false
  //});
});
</script>
</body>
</html>
